<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Files · FortranFiles.jl</title><meta name="title" content="Files · FortranFiles.jl"/><meta property="og:title" content="Files · FortranFiles.jl"/><meta property="twitter:title" content="Files · FortranFiles.jl"/><meta name="description" content="Documentation for FortranFiles.jl."/><meta property="og:description" content="Documentation for FortranFiles.jl."/><meta property="twitter:description" content="Documentation for FortranFiles.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="FortranFiles.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">FortranFiles.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Files</a><ul class="internal"><li><a class="tocitem" href="#Terminology"><span>Terminology</span></a></li><li><a class="tocitem" href="#Opening-files"><span>Opening files</span></a></li><li><a class="tocitem" href="#Other-functions-on-FortranFiles"><span>Other functions on <code>FortranFile</code>s</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li><li><a class="tocitem" href="../types/">Datatypes</a></li><li><a class="tocitem" href="../read/">Reading Data</a></li><li><a class="tocitem" href="../write/">Writing Data</a></li><li><a class="tocitem" href="../exceptions/">Exceptions</a></li><li><a class="tocitem" href="../tests/">Package Tests</a></li><li><a class="tocitem" href="../theindex/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Files</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Files</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaData/FortranFiles.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaData/FortranFiles.jl/blob/master/docs/src/files.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Files"><a class="docs-heading-anchor" href="#Files">Files</a><a id="Files-1"></a><a class="docs-heading-anchor-permalink" href="#Files" title="Permalink"></a></h1><h2 id="Terminology"><a class="docs-heading-anchor" href="#Terminology">Terminology</a><a id="Terminology-1"></a><a class="docs-heading-anchor-permalink" href="#Terminology" title="Permalink"></a></h2><p>When opening a file in Fortran, you can specify its <em>access mode</em>. The default and most commonly used mode is <em>sequential access</em>. This package additionally supports <em>direct access</em> mode. (If the Fortran program uses <em>stream access</em> mode, then the file contains plain binary data, which can be easily read with Julia&#39;s built-in facilities.)</p><p>In Fortran, files are organized into <em>records</em>. Each <code>READ</code> or <code>WRITE</code> statement in Fortran processes a complete record. This Julia package emulates this behavior, i.e. each call to <code>read</code> or <code>write</code> will process a whole record.</p><p>In sequential access mode, records can only be accessed sequentially, but they can be of variable length. The length of a record is determined by the amount of data passed to the <code>WRITE</code> statement. The length of the record is also written to the file, encoded in <em>record markers</em> which preceed and follow the record. Unfortunately, Fortran compilers have used various ways to encode the record markers (the following is from personal recollection and may be incorrect):</p><ul><li>g77 used 4 bytes, so that records could be no longer than 2 GiB.</li><li>ifort uses 4 bytes, and uses the sign bit to signal that more data will follow. That is, the record is split into <em>subrecords</em>, where each subrecord has its own record markers. For records smaller than 2 GiB, this is compatible to g77.</li><li>gfortran 4.0 and 4.1 offered 8-byte record markers as an alternative to g77-style record markers, and used them by default (at least on 64-bit systems).</li><li>gfortran 4.2 introduced ifort-compatible record markers. These are now the default.</li></ul><p>All these kinds of record markers are supported by this package.</p><p>In direct access mode, all records have the same, fixed size. This record size must be specified when opening the file. Records can be accessed in random order, by specifying the number of the record to be read/written in each <code>READ</code> or <code>WRITE</code> statement.  Currently it is assumed that records are stored in the file without any header or record marker.  This is compatible with the standard behaviour of gfortran and ifort.</p><h2 id="Opening-files"><a class="docs-heading-anchor" href="#Opening-files">Opening files</a><a id="Opening-files-1"></a><a class="docs-heading-anchor-permalink" href="#Opening-files" title="Permalink"></a></h2><p>To open a file which contains Fortran unformatted data, use one of the following methods:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FortranFiles.FortranFile" href="#FortranFiles.FortranFile"><code>FortranFiles.FortranFile</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FortranFile(io::IO; kwargs...)</code></pre><p>Wrap the given <code>IO</code> stream as a <code>FortranFile</code> containing Fortran &quot;unformatted&quot; (i.e. binary) data. The keyword arguments can be:</p><ul><li><code>access</code> for specifying the access mode; a <code>String</code> being one of<ul><li>&quot;sequential&quot;: sequential access as in Fortran, where records have leading and trailing record markers. This is the default.</li><li>&quot;direct&quot;: direct access as in Fortran, where records have fixed length and can be accessed in random order. The &quot;recl&quot; keyword must be given to specify the record length. <code>read</code> and <code>write</code> operations on these files must use the <code>rec</code> keyword argument to specify which record to read/write.</li></ul></li><li><code>marker</code>: for specifying the type of record marker; one of<ul><li><code>RECMRK4B</code>: 4-byte record markers (with support for subrecords) [default]</li><li><code>RECMRK8B</code>: 8-byte record markers</li></ul>This is ignored for direct access files.</li><li><code>recl</code>: for specifying the record length if access==&quot;direct&quot;. The record length is counted in bytes and must be specified as an Integer.</li><li><code>convert</code>: for specifying the byte-order of the file data; one of<ul><li>&quot;native&quot;: use the host byte order [default]</li><li>&quot;big-endian&quot;: use big-endian byte-order</li><li>&quot;little-endian&quot;: use little-endian byte-order</li></ul></li></ul><p>The returned <code>FortranFile</code> can be used with Julia&#39;s <code>read</code> and <code>write</code> functions. See their documentation for more information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaData/FortranFiles.jl/blob/aa071e0d61c7a53f84ccf375184421832bfc18ba/src/file.jl#L8-L33">source</a></section><section><div><pre><code class="language-julia hljs">FortranFile(fn::String [, mode=&quot;r&quot; ]; kwargs...)</code></pre><p>Open a file containing Fortran unformatted (i.e. binary) data for reading or writing, depending on <code>mode</code> which is used as in <code>open</code>. The keyword arguments are as in <code>FortranFile(io::IO; kwargs...)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaData/FortranFiles.jl/blob/aa071e0d61c7a53f84ccf375184421832bfc18ba/src/file.jl#L53-L59">source</a></section><section><div><pre><code class="language-julia hljs">FortranFile(f::Function, fn::String [, mode=&quot;r&quot; ]; kwargs...)</code></pre><p>Apply the function <code>f</code> to the result of <code>open(args...; kwargs...)</code> and close the resulting file descriptor upon completion.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaData/FortranFiles.jl/blob/aa071e0d61c7a53f84ccf375184421832bfc18ba/src/file.jl#L62-L67">source</a></section></article><p>See <a href="../read/#Reading-Data">Reading Data</a> and <a href="../write/#Writing-Data">Writing Data</a> for how to read or write data to <code>FortranFile</code>s.</p><h2 id="Other-functions-on-FortranFiles"><a class="docs-heading-anchor" href="#Other-functions-on-FortranFiles">Other functions on <code>FortranFile</code>s</a><a id="Other-functions-on-FortranFiles-1"></a><a class="docs-heading-anchor-permalink" href="#Other-functions-on-FortranFiles" title="Permalink"></a></h2><p>To close the file, use the standard Julia <code>close</code> function.</p><p>To test for EOF, use the standard Julia <code>eof</code> function.</p><p>The following functions are provided to emulate certain Fortran I/O statements:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="FortranFiles.rewind" href="#FortranFiles.rewind"><code>FortranFiles.rewind</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Re-position a <code>FortranFile</code> at its beginning.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaData/FortranFiles.jl/blob/aa071e0d61c7a53f84ccf375184421832bfc18ba/src/file.jl#L78">source</a></section></article><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><p>The following examples show how to write Julia code that corresponds to certain Fortran <code>OPEN</code> statements.</p><h4 id="Opening-a-file-read-only"><a class="docs-heading-anchor" href="#Opening-a-file-read-only">Opening a file read-only</a><a id="Opening-a-file-read-only-1"></a><a class="docs-heading-anchor-permalink" href="#Opening-a-file-read-only" title="Permalink"></a></h4><pre><code class="language-julia hljs">f = FortranFile(&quot;data.bin&quot;)</code></pre><p>corresponds to</p><pre><code class="language-fortran hljs">integer::lun
open(newunit=lun, file=&quot;data.bin&quot;, form=&quot;unformatted&quot;, action=&quot;read&quot;, status=&quot;old&quot;)</code></pre><h4 id="Opening-a-file-for-writing"><a class="docs-heading-anchor" href="#Opening-a-file-for-writing">Opening a file for writing</a><a id="Opening-a-file-for-writing-1"></a><a class="docs-heading-anchor-permalink" href="#Opening-a-file-for-writing" title="Permalink"></a></h4><pre><code class="language-julia hljs">f = FortranFile(&quot;data.bin&quot;, &quot;w&quot;)</code></pre><p>corresponds to</p><pre><code class="language-fortran hljs">integer::lun
open(newunit=lun, file=&quot;data.bin&quot;, form=&quot;unformatted&quot;, action=&quot;write&quot;, status=&quot;replace&quot;)</code></pre><h4 id="Opening-a-file-for-reading-and-writing-in-append-mode"><a class="docs-heading-anchor" href="#Opening-a-file-for-reading-and-writing-in-append-mode">Opening a file for reading and writing in append mode</a><a id="Opening-a-file-for-reading-and-writing-in-append-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Opening-a-file-for-reading-and-writing-in-append-mode" title="Permalink"></a></h4><pre><code class="language-julia hljs">f = FortranFile(&quot;data.bin&quot;, &quot;a+&quot;)</code></pre><p>probably corresponds to</p><pre><code class="language-fortran hljs">integer::lun
open(newunit=lun, file=&quot;data.bin&quot;, form=&quot;unformatted&quot;, action=&quot;readwrite&quot;, position=&quot;append&quot;, status=&quot;unknown&quot;)</code></pre><h4 id="Opening-a-file-read-only-in-direct-access-mode"><a class="docs-heading-anchor" href="#Opening-a-file-read-only-in-direct-access-mode">Opening a file read-only in direct access mode</a><a id="Opening-a-file-read-only-in-direct-access-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Opening-a-file-read-only-in-direct-access-mode" title="Permalink"></a></h4><pre><code class="language-julia hljs">f = FortranFile(&quot;data.bin&quot;, &quot;r&quot;, access=&quot;direct&quot;, recl=640)</code></pre><p>for reading a file containing 640-byte records, and corresponds to</p><pre><code class="language-fortran hljs">integer::lun
open(newunit=lun, file=&quot;data.bin&quot;, form=&quot;unformatted&quot;, action=&quot;read&quot;, status=&quot;old&quot;, access=&quot;direct&quot;, recl=640)</code></pre><p>if compiled with gfortran; ifort measures <code>recl</code> not in bytes, but in 4-byte longwords, unless the compiler switch <code>-assume byterecl</code> is used.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../types/">Datatypes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Monday 30 June 2025 12:51">Monday 30 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
